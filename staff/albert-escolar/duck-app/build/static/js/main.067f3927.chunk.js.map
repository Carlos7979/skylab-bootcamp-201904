{"version":3,"sources":["common/normalize/index.js","common/errors/index.js","common/validate/index.js","common/call/index.js","data/user-api/index.js","data/duck-api/index.js","logic/index.js","common/i18n/index.js","components/LanguageSelector.js","components/Landing/literals.js","components/Landing/index.js","components/Register/literals.js","components/Register/index.js","components/RegisterOk/literals.js","components/RegisterOk/index.js","components/Login/literals.js","components/Login/index.js","components/Home/literals.js","components/Search/literals.js","components/Search/index.js","components/Results/index.js","components/Detail/index.js","components/Home/index.js","components/App.js","serviceWorker.js","index.js"],"names":["normalize","undefinedOrNull","value","ValueError","message","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","Error","FormatError","RequirementError","ConnectionError","TimeoutError","LogicError","validate","arguments","args","forEach","_ref","name","type","notEmpty","optional","undefined","TypeError","concat","trim","length","keys","email","test","String","url","signal","options","_options$method","method","headers","body","_options$timeout","timeout","controller","AbortController","setTimeout","abort","fetch","catch","error","DOMException","userApi","__url__","__timeout__","create","username","password","data","Content-Type","JSON","stringify","objectSpread","then","response","json","authenticate","retrieve","id","token","Authorization","update","duckApi","searchDucks","query","retrieveDuck","logic","__userId__","sessionStorage","userId","__userToken__","userToken","isUserLoggedIn","registerUser","surname","status","loginUser","_this","_response$data","retrieveUser","_response$data2","logoutUser","clear","toggleFavDuck","duckId","_this2","_data$favs","favs","index","indexOf","push","splice","retrieveFavDucks","_data$favs2","calls","map","fav","Promise","all","i18n","language","lang","localStorage","LanguageSelector","onLanguageChange","react_default","a","createElement","onChange","event","target","literals","en","register","or","login","es","ca","ga","Landing","onRegister","onLogin","_literals$lang","onClick","e","preventDefault","href","Register_literals","title","Register","Fragment","onSubmit","_e$target","placeholder","RegisterOk_literals","successProceedTo","RegisterOk","Login_literals","Login","Home_literals","hello","logout","Search_literals","search","Search","onSearch","Results","items","onItem","_ref2","image","price","key","src","Detail","_ref$item","item","description","Home","state","ducks","duck","handleSearch","setState","imageUrl","handleRetrieve","_this$state","_this$props","props","onLogout","components_Search","components_Results","components_Detail","Component","App","visible","handleLanguageChange","handleRegisterNavigation","handleLoginNavigation","handleLogin","user","handleRegister","handleLogout","components_LanguageSelector","components_Landing","components_Register","components_RegisterOk","components_Login","components_Home","Boolean","window","location","hostname","match","ReactDOM","render","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.067f3927.chunk.js","sourcesContent":["'use strict'\n\nconst normalize = {\n    undefinedOrNull(value) {\n        if (value === 'null') return null\n        if (value === 'undefined') return undefined\n    \n        return value\n    }\n}\n\nexport default normalize","'use strict'\n\nclass ValueError extends Error {\n    constructor(message) {\n        super(message)\n    }\n}\n\nclass FormatError extends Error {\n    constructor(message) {\n        super(message)\n    }\n}\n\nclass RequirementError extends Error {\n    constructor(message) {\n        super(message)\n    }\n}\n\nclass ConnectionError extends Error {\n    constructor(message) {\n        super(message)\n    }\n}\n\nclass TimeoutError extends Error {\n    constructor(message) {\n        super(message)\n    }\n}\n\nclass LogicError extends Error {\n    constructor(message) {\n        super(message)\n    }\n}\n\nexport {\n    ValueError,\n    FormatError,\n    RequirementError,\n    ConnectionError,\n    TimeoutError,\n    LogicError\n}","import { ValueError, RequirementError, FormatError } from '../errors'\n\nconst validate = {\n    arguments(args) {\n        args.forEach(({ name, value, type, notEmpty, optional }) => {\n            if (value != undefined) {\n                if (typeof value !== type) throw TypeError(`${name} ${value} is not a ${type}`)\n\n                if (notEmpty)\n                    if (type === 'string') {\n                        if (!value.trim().length) throw new ValueError(`${name} is empty`)\n                    } else if (type === 'object')\n                        if (!Object.keys(value).length) throw new ValueError(`${name} is empty`)\n            } else if (!optional) throw new RequirementError(`${name} is not optional`)\n        })\n    },\n\n    email(email) {\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        if (!re.test(String(email))) throw new FormatError(`${email} is not an e-mail`)\n    },\n\n    url(url) {\n        const re = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/\n\n        if (!re.test(String(url))) throw new FormatError(`${url} is not a url`)\n    }\n}\n\nexport default validate","import validate from '../validate'\nimport { ConnectionError, TimeoutError } from '../errors'\n\n/**\n * Makes an HTTP call.\n * \n * @param {*} url \n * @param {*} callback \n * @param {*} options \n * \n * @version 4.0.0\n */\nfunction call(url, options = {}) {\n    const { method = 'GET', headers, body, timeout = 0 } = options\n\n    validate.arguments([\n        { name: 'url', value: url, type: 'string', notEmpty: true },\n        { name: 'method', value: method, type: 'string', notEmpty: true },\n        { name: 'headers', value: headers, type: 'object', optional: true },\n        { name: 'body', value: body, type: 'string', notEmpty: true, optional: true },\n        { name: 'timeout', value: timeout, type: 'number', notEmpty: true, optional: true },\n    ])\n\n    validate.url(url)\n\n    let signal\n\n    if (timeout) {\n        const controller = new AbortController\n        signal = controller.signal\n        setTimeout(() => controller.abort(), timeout)\n    }\n\n    return fetch(url, {\n        method,\n        headers,\n        body,\n        signal\n    })\n        .catch(error => {\n            if (error instanceof TypeError) throw new ConnectionError('cannot connect')\n            else if (error instanceof DOMException) throw new TimeoutError(`time out, exceeded limit of ${timeout}ms`)\n            else throw error\n        })\n}\n\nexport default call","import validate from '../../common/validate'\nimport call from '../../common/call'\n\nconst userApi = {\n    __url__: 'https://skylabcoders.herokuapp.com/api',\n    __timeout__: 0,\n\n    create(username, password, data) {\n        validate.arguments([\n            { name: 'username', value: username, type: 'string', notEmpty: true },\n            { name: 'password', value: password, type: 'string', notEmpty: true },\n            { name: 'data', value: data, type: 'object', notEmpty: true, optional: true }\n        ])\n\n        return call(`${this.__url__}/user`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ username, password, ...data }),\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n\n    authenticate(username, password) {\n        validate.arguments([\n            { name: 'username', value: username, type: 'string', notEmpty: true },\n            { name: 'password', value: password, type: 'string', notEmpty: true }\n        ])\n\n        return call(`${this.__url__}/auth`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ username, password }),\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n\n    retrieve(id, token) {\n        validate.arguments([\n            { name: 'id', value: id, type: 'string', notEmpty: true },\n            { name: 'token', value: token, type: 'string', notEmpty: true }\n        ])\n\n        return call(`${this.__url__}/user/${id}`, {\n            headers: { Authorization: `Bearer ${token}` },\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n\n    update(id, token, data) {\n        validate.arguments([\n            { name: 'id', value: id, type: 'string', notEmpty: true },\n            { name: 'token', value: token, type: 'string', notEmpty: true },\n            { name: 'data', value: data, type: 'object', notEmpty: true }\n        ])\n\n        return call(`${this.__url__}/user/${id}`, {\n            method: 'PUT',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data),\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n}\n\nexport default userApi","import validate from '../../common/validate'\nimport call from '../../common/call'\n\nconst duckApi = {\n    __url__: 'https://duckling-api.herokuapp.com/api',\n\n    searchDucks(query) {\n        validate.arguments([\n            { name: 'query', value: query, type: 'string' }\n        ])\n        \n        return call(`${this.__url__}/search?q=${query}`)\n            .then(response => response.json())\n    },\n\n    retrieveDuck(id) {\n        validate.arguments([\n            { name: 'id', value: id, type: 'string' }\n        ])\n\n        return call(`${this.__url__}/ducks/${id}`)\n            .then(response => response.json())\n    }\n}\n\nexport default duckApi","import normalize from '../common/normalize'\nimport validate from '../common/validate'\nimport userApi from '../data/user-api'\nimport duckApi from '../data/duck-api'\nimport { LogicError } from '../common/errors'\n\n\nconst logic = {\n    set __userId__(id) {\n        sessionStorage.userId = id\n    },\n\n    get __userId__() {\n        return normalize.undefinedOrNull(sessionStorage.userId)\n    },\n\n    set __userToken__(token) {\n        sessionStorage.userToken = token\n    },\n\n    get __userToken__() {\n        return normalize.undefinedOrNull(sessionStorage.userToken)\n    },\n\n    get isUserLoggedIn() {\n        return !!(this.__userId__ && this.__userToken__)\n    },\n\n    registerUser(name, surname, email, password) {\n        validate.arguments([\n            { name: 'name', value: name, type: 'string', notEmpty: true },\n            { name: 'surname', value: surname, type: 'string', notEmpty: true },\n            { name: 'email', value: email, type: 'string', notEmpty: true },\n            { name: 'password', value: password, type: 'string', notEmpty: true }\n        ])\n\n        validate.email(email)\n\n        return userApi.create(email, password, { name, surname })\n            .then(response => {\n                if (response.status === 'OK') return\n\n                throw new LogicError(response.error)\n            })\n    },\n\n    loginUser(email, password) {\n        validate.arguments([\n            { name: 'email', value: email, type: 'string', notEmpty: true },\n            { name: 'password', value: password, type: 'string', notEmpty: true }\n        ])\n\n        validate.email(email)\n\n        return userApi.authenticate(email, password)\n            .then(response => {\n                if (response.status === 'OK') {\n                    const { data: { id, token } } = response\n\n                    this.__userId__ = id\n                    this.__userToken__ = token\n                } else throw new LogicError(response.error)\n            })\n    },\n\n    retrieveUser() {\n        return userApi.retrieve(this.__userId__, this.__userToken__)\n            .then(response => {\n                if (response.status === 'OK') {\n                    const { data: { name, surname, username: email } } = response\n\n                    return { name, surname, email }\n                } else throw new LogicError(response.error)\n            })\n    },\n\n    logoutUser() {\n        // this.__userId__ = null\n        // this.__userToken__ = null\n\n        // OR fully remove all key values from session storage\n        sessionStorage.clear()\n    },\n\n\n    searchDucks(query) {\n        validate.arguments([\n            { name: 'query', value: query, type: 'string' }\n        ])\n\n        return duckApi.searchDucks(query)\n    },\n\n    retrieveDuck(id) {\n        validate.arguments([\n            { name: 'id', value: id, type: 'string' }\n        ])\n\n        return duckApi.retrieveDuck(id)\n    },\n\n    toggleFavDuck(duckId) {\n        return userApi.retrieve(this.__userId__, this.__userToken__)\n            .then(response => {\n                const { status, data } = response\n\n                if (status === 'OK') {\n                    const { favs = [] } = data\n\n                    const index = favs.indexOf(duckId)\n\n                    if (index < 0) favs.push(duckId)\n                    else favs.splice(index, 1)\n\n                    return userApi.update(this.__userId__, this.__userToken__, { favs })\n                        .then(() => { })\n                }\n\n                throw new LogicError(response.error)\n            })\n\n    },\n\n    retrieveFavDucks() {\n        return userApi.retrieve(this.__userId__, this.__userToken__)\n            .then(response => {\n                const { status, data } = response\n\n                if (status === 'OK') {\n                    const { favs = [] } = data\n\n                    if (favs.length) {\n                        const calls = favs.map(fav => duckApi.retrieveDuck(fav))\n                        return Promise.all(calls)\n                    }else return favs\n                }\n\n                throw new LogicError(response.error)\n            })\n\n    }\n}\n\nexport default logic","const i18n = {\n    set language(lang) {\n        localStorage.lang = lang\n    },\n\n    get language() {\n        return localStorage.lang || 'en'\n    }\n}\n\nexport default i18n","import React from 'react'\n\nfunction LanguageSelector({ lang, onLanguageChange }) {\n    return <select onChange={event => onLanguageChange(event.target.value)} value={lang}>\n        <option value=\"en\">English</option>\n        <option value=\"es\">Español</option>\n        <option value=\"ca\">Català</option>\n        <option value=\"ga\">Galego</option>\n    </select>\n}\n\nexport default LanguageSelector","const literals = {\n    en: {\n        register: 'Register',\n        or: 'or',\n        login: 'Login'\n    },\n    es: {\n        register: 'Regístrate',\n        or: 'o',\n        login: 'Inicia sesión'\n    },\n    ca: {\n        register: 'Registra\\'t',\n        or: 'o',\n        login: 'Inicia sessió'\n    },\n    ga: {\n        register: 'Rexistrese',\n        or: 'ou',\n        login: 'Inicia sesión'\n    }\n}\n\nexport default literals","import React from 'react'\nimport literals from './literals'\n\nfunction Landing({ lang, onRegister, onLogin }) {\n    const { register, or, login } = literals[lang]\n\n    return <section onClick={e => e.preventDefault()}>\n        <a href=\"\" onClick={() => onRegister()}>{register}</a> <span>{or}</span> <a href=\"\" onClick={() => onLogin()}>{login}</a>.\n        </section>\n}\n\nexport default Landing","export default {\n    en: {\n        title: 'Register',\n        name: 'Name',\n        surname: 'Surname',\n        email: 'E-mail',\n        password: 'Password'\n    },\n    es: {\n        title: 'Registro',\n        name: 'Nombre',\n        surname: 'Apellido',\n        email: 'E-milio',\n        password: 'Contraseña'\n    },\n    ca: {\n        title: 'Registre',\n        name: 'Nom',\n        surname: 'Cognom',\n        email: 'E-mil·li',\n        password: 'Contrasenya'\n    },\n    ga: {\n        title: 'Rexistro',\n        name: 'Nome',\n        surname: 'Apelido',\n        email: 'E-miliño',\n        password: 'Contrasinal'\n    }\n}","import React from 'react'\nimport literals from './literals'\n\nfunction Register({lang, onRegister, error}) {\n    const { title, name, surname, email, password } = literals[lang]\n\n    function handleSubmit(e) {\n        e.preventDefault()\n\n        const {\n            name: { value: name },\n            surname: { value: surname },\n            username: { value: username },\n            password: { value: password }\n        } = e.target\n\n        onRegister(name, surname, username, password)\n    }\n\n    return <>\n        <h2>{title}</h2>\n        <form onSubmit={handleSubmit}>\n            <input type=\"text\" name=\"name\" placeholder={name} />\n            <input type=\"text\" name=\"surname\" placeholder={surname} />\n            <input type=\"text\" name=\"username\" placeholder={email} />\n            <input type=\"password\" name=\"password\" placeholder={password} />\n            <button>{title}</button>\n            <span>{error}</span>\n        </form>\n    </>\n}\n\nexport default Register","export default {\n    en: {\n        successProceedTo: 'User successfully registered, you can proceed to',\n        login: 'Login'\n    },\n    es: {\n        successProceedTo: '[TODO es] User successfully registered, you can proceed to',\n        login: 'Iniciar sesión'\n    },\n    ca: {\n        successProceedTo: '[TODO ca] User successfully registered, you can proceed to',\n        login: 'Inici de sessió'\n    },\n    ga: {\n        successProceedTo: '[TODO ga] User successfully registered, you can proceed to',\n        login: 'Inicio da sesión'\n    }\n}","import React from 'react'\nimport literals from './literals'\n\nfunction RegisterOk({ lang, onLogin }) {\n    const { successProceedTo, login } = literals[lang]\n\n    return <>\n        {successProceedTo} <a href=\"\" onClick={e => {\n            e.preventDefault()\n\n            onLogin()\n        }}>{login}</a>.\n    </>\n}\n\nexport default RegisterOk","export default {\n    en: {\n        title: 'Login',\n        email: 'E-mail',\n        password: 'Password'\n    },\n    es: {\n        title: 'Iniciar sesión',\n        email: 'E-milio',\n        password: 'Contraseña'\n    },\n    ca: {\n        title: 'Inici de sessió',\n        email: 'E-mil·li',\n        password: 'Contrasenya'\n    },\n    ga: {\n        title: 'Inicio da sesión',\n        email: 'E-miliño',\n        password: 'Contrasinal'\n    }\n}","import React from 'react'\nimport literals from './literals'\n\nfunction Login({ lang, onLogin, error }) {\n    const { title, email, password } = literals[lang]\n\n    function handleSubmit(e) {\n        e.preventDefault()\n\n        const username = e.target.username.value\n        const password = e.target.password.value\n\n        onLogin(username, password)\n    }\n\n    return <>\n        <h2>{title}</h2>\n        <form onSubmit={handleSubmit}>\n            <input type=\"text\" name=\"username\" placeholder={email} />\n            <input type=\"password\" name=\"password\" placeholder={password} />\n            <button>{title}</button>\n            <span>{error}</span>\n        </form>\n    </>\n}\n\nexport default Login","export default  {\n    en: {\n        hello: 'Hello',\n        logout: 'Logout'\n    },\n    es: {\n        hello: 'Hola',\n        logout: 'Cerrar sesión'\n    },\n    ca: {\n        hello: 'Hola',\n        logout: 'Tanca sessió'\n    },\n    ga: {\n        hello: 'Hola',\n        logout: 'Finalizar sesión'\n    }\n}","export default  {\n    en: {\n        search: 'Search'   \n    },\n    es: {\n        search: 'Buscar'   \n    },\n    ca: {\n        search: 'Cerca'   \n    },\n    ga: {\n        search: 'Buscar'   \n    }\n}","import React from 'react'\nimport literals from './literals'\n\nfunction Search({ lang, onSearch }) {\n    const { search } = literals[lang]\n\n    return <form onSubmit={e => {\n        e.preventDefault()\n\n        const query = e.target.query.value\n\n        onSearch(query)\n    }}>\n        <input type=\"text\" name=\"query\" />\n        <button>{search}</button>\n    </form>\n}\n\nexport default Search","import React from 'react'\n\nfunction Results({ items, onItem }) {\n    return <ul>\n        {items.map(({ id, title, image, price }) =>\n            <li key={id} onClick={() => onItem(id)}>\n                <h2>{title}</h2>\n                <img src={image} />\n                <span>{price}</span>\n            </li>)}\n    </ul>\n}\n\nexport default Results","import React from 'react'\n\nfunction Detail({ item: { title, image, description, price } }) {\n    return <section>\n        <h2>{title}</h2>\n        <img src={image} />\n        <p>{description}</p>\n        <span>{price}</span>\n    </section>\n}\n\nexport default Detail","import React, { Component } from 'react'\nimport literals from './literals'\nimport logic from '../../logic'\nimport Search from '../Search'\nimport Results from '../Results'\nimport Detail from '../Detail'\n\nclass Home extends Component {\n    state = { error: null, ducks: [], duck: null }\n\n    handleSearch = query =>\n        logic.searchDucks(query)\n            .then(ducks =>\n                this.setState({ duck: null, ducks: ducks.map(({ id, title, imageUrl: image, price }) => ({ id, title, image, price })) })\n            )\n            .catch(error =>\n                this.setState({ error: error.message })\n            )\n\n    handleRetrieve = id =>\n        logic.retrieveDuck(id)\n            .then(({ title, imageUrl: image, description, price }) =>\n                this.setState({ duck: { title, image, description, price } })\n            )\n            .catch(error =>\n                this.setState({ error: error.message })\n            )\n\n    render() {\n        const {\n            handleSearch,\n            handleRetrieve,\n            state: { ducks, duck },\n            props: { lang, name, onLogout }\n        } = this\n\n        const { hello, logout } = literals[lang]\n\n        return <main>\n            <h1>{hello}, {name}!</h1>\n            <button onClick={onLogout}>{logout}</button>\n            <Search lang={lang} onSearch={handleSearch} />\n            {!duck && <Results items={ducks} onItem={handleRetrieve} />}\n            {duck && <Detail item={duck} />}\n        </main>\n    }\n}\n\nexport default Home","import React, { Component } from 'react'\nimport logic from '../logic'\nimport i18n from '../common/i18n'\nimport LanguageSelector from './LanguageSelector'\nimport Landing from './Landing'\nimport Register from './Register'\nimport RegisterOk from './RegisterOk'\nimport Login from './Login'\nimport Home from './Home'\n\nclass App extends Component {\n    state = { lang: i18n.language, visible: logic.isUserLoggedIn ? 'home' : 'landing', error: null, name: null }\n\n    handleLanguageChange = lang => this.setState({ lang: i18n.language = lang }) // NOTE setter runs first, getter runs after (i18n)\n\n    handleRegisterNavigation = () => this.setState({ visible: 'register' })\n\n    handleLoginNavigation = () => this.setState({ visible: 'login' })\n\n    handleLogin = (username, password) => {\n        try {\n            logic.loginUser(username, password)\n                .then(() =>\n                    logic.retrieveUser()\n                )\n                .then(user => {\n                    this.setState({ visible: 'home', name: user.name, error: null })\n                })\n                .catch(error =>\n                    this.setState({ error: error.message })\n                )\n        } catch ({ message }) {\n            this.setState({ error: message })\n        }\n    }\n\n    componentDidMount() {\n        logic.isUserLoggedIn &&\n            logic.retrieveUser()\n                .then(user =>\n                    this.setState({ name: user.name })\n                )\n                .catch(error =>\n                    this.setState({ error: error.message })\n                )\n    }\n\n    handleRegister = (name, surname, username, password) => {\n        try {\n            logic.registerUser(name, surname, username, password)\n                .then(() =>\n                    this.setState({ visible: 'register-ok', error: null })\n                )\n                .catch(error =>\n                    this.setState({ error: error.message })\n                )\n        } catch ({ message }) {\n            this.setState({ error: message })\n        }\n    }\n\n    handleLogout = () => {\n        logic.logoutUser()\n\n        this.setState({ visible: 'landing' })\n    }\n\n    render() {\n        const {\n            state: { lang, visible, error, name },\n            handleLanguageChange,\n            handleRegisterNavigation,\n            handleLoginNavigation,\n            handleLogin,\n            handleRegister,\n            handleLogout\n        } = this\n\n        // return <Fragment>\n        return <>\n            <LanguageSelector lang={lang} onLanguageChange={handleLanguageChange} />\n\n            {visible === 'landing' && <Landing lang={lang} onRegister={handleRegisterNavigation} onLogin={handleLoginNavigation} />}\n\n            {visible === 'register' && <Register lang={lang} onRegister={handleRegister} error={error} />}\n\n            {visible === 'register-ok' && <RegisterOk lang={lang} onLogin={handleLoginNavigation} />}\n\n            {visible === 'login' && <Login lang={lang} onLogin={handleLogin} error={error} />}\n\n            {visible === 'home' && <Home lang={lang} name={name} onLogout={handleLogout} />}\n        </>\n        // </Fragment>\n    }\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}